---
title: "Lab 1 - Data visualization"
author: "Abigail Eun"
format: pdf
editor: visual
---

## Load Packages

```{r}
#| label: load-packages
#| message: false

library(tidyverse)
library(viridis)
```

## Exercise 1

```{r}
glimpse(midwest)
view(midwest)
```

```{r}
#this creates a histogram for population density 
ggplot(data = midwest, aes(x = popdensity, fill = "pink")) +
  geom_histogram(binwidth = 10000) +
 labs(title = "histogram-population-density") 
```

The graph is right-skewed. There are a few outliers: one between 50,000 and 75,000, and another one between 75,000 and 100,000.

## Exercise 2

```{r}
ggplot(data = midwest, aes(y = percollege, x = percbelowpoverty, color = state))+
  geom_point()+
  labs(title = "having a college degree vs. being under the poverty line", x = "Percentage Below Poverty Line", y = "Percentage with a College Degree") +
  scale_color_viridis_d(option = "C", end = 0.8) +
  theme_minimal() 
```

## Exercise 3

Describe what you observe in the plot from the previous exercise. In your description, include similarities and differences in the patterns across states.

We can see that Illinois has the highest percentage of individuals with a college degree. Wisconsin is a bit of an outlier state --the state stands out on the most on scatter plot because it is not clumped in with the other states. A common statistic is that 10-20% of individuals are below the poverty line and 15% have a college degree.

## Exercise 4

Now, let\'s examine the relationship between the same two variables, using a separate plot for each state. Label the axes and give the plot a title. Use `geom_smooth` with the argument `se = FALSE` to add a smooth curve fit to the data. Which plot do you prefer - this plot or the plot in Ex 2? Briefly explain your choice.

```{r}
ggplot(data = midwest, aes(y = percollege, x = percbelowpoverty, color = state))+
  geom_point()+
  labs(title = "having a college degree vs. being under the poverty line by state", x = "Percentage Below Poverty Line", y = "Percentage with a College Degree") +
  facet_wrap(~state)+
  scale_color_viridis_d(option = "C", end = 0.8) +
  theme_minimal() +
  geom_smooth(se = FALSE)

```

I prefer this plot because it is easier on the eyes and the data is organized more clearly and cleanly. You can see the association between the poverty line and college degree better.

## Exercise 5

*Do some states have counties that tend to be geographically larger than others?* To explore this question, create side-by-side boxplots of area (`area`) of a county based on state (`state`).

```{r}
ggplot(midwest, 
       aes(x = state, y = area, color = state)) +
  geom_boxplot() +
  labs("Size of Counties by States in the Midwest")
  
```

-   Describe what you observe from the plot.

    From this plot, we can see the area of different counties in states in the Midwest.

-   Which state has the single largest county? How do you know based on the plot?

Wisconsin has the single largest county because its box distribution is the largest in terms of area.

## Exercise 6

*Do some states have a higher percentage of their counties located in a metropolitan area?* Create a segmented bar chart with one bar per state and the fill determined by the distribution of `metro`, whether a county is considered in a metro area. The y axis of the segmented barplot should range from 0 to 1.

-   What do you notice from the plot?

```{r}
midwest <- midwest |>
  mutate(metro = if_else(inmetro == 1, "Yes", "No"))
```

```{r}
ggplot(midwest, aes(x=state, fill = metro))+
  geom_bar(position="fill")+
  labs(title = "Percentage of Metros in Midwest States")
```

## Exercise 7
